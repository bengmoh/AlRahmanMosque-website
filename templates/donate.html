{% extends "base.html" %}
{% block title %}Donate - Al-Rahman Mosque{% endblock %}

{% block content %}
<!-- Hero Section -->
<div class="bg-gradient-to-b from-mosque-green to-mosque-dark text-white py-16">
    <div class="container mx-auto px-4 text-center">
        <h1 class="text-4xl font-bold mb-4">Support Al-Rahman Mosque</h1>
        <p class="text-xl text-gray-200 max-w-2xl mx-auto">
            Choose your preferred donation method
        </p>
    </div>
</div>

<div class="container mx-auto px-4 py-12">
    <!-- Donation Methods Grid -->
    <div class="grid md:grid-cols-2 gap-8 mb-12">
        <!-- E-transfer Section -->
        <div class="bg-white rounded-lg shadow-lg p-8">
            <h2 class="text-2xl font-bold mb-6 text-mosque-green text-center">E-transfer</h2>
            <div class="flex flex-col items-center">
                <!-- Benefits List -->
                <div class="mb-4 text-gray-600 w-full text-center">
                    <p class="mb-2">‚úì Direct bank transfer (online banking)</p>
                    <p class="mb-2">‚úì No processing fees</p>
                    <p>‚úì Recurrent and one-time options</p>
                </div>

                <!-- E-transfer Interface -->
                <div class="w-full mt-2 relative">
                    <div class="relative bg-gray-50 rounded-lg border border-gray-200 overflow-hidden">
                        <input type="text" 
                               value="alrahmanmosque2023@gmail.com" 
                               class="w-full px-4 py-3 bg-transparent text-gray-800 pr-24"
                               readonly>
                        
                        <button onclick="copyEmail()" 
                                class="absolute right-2 top-1/2 transform -translate-y-1/2 px-4 py-2 bg-mosque-green text-white rounded hover:bg-mosque-light transition-colors">
                            Copy Email
                        </button>
                    </div>
                    
                    <!-- Copy Success Message -->
                    <div id="copyMessage" 
                         class="absolute left-1/2 transform -translate-x-1/2 mt-2 bg-mosque-green text-white text-sm px-3 py-1 rounded-full opacity-0 transition-opacity duration-200 pointer-events-none">
                        Email copied!
                    </div>
                </div>
            </div>
        </div>

        <!-- Online Payment Section -->
        <div class="bg-white rounded-lg shadow-lg p-8">
            <h2 class="text-2xl font-bold mb-6 text-mosque-green text-center">Online Payment</h2>
            <div class="flex flex-col items-center">
                <!-- Benefits List -->
                <div class="mb-4 text-gray-600 w-full text-center">
                    <p class="mb-2">‚úì Credit/Debit cards</p>
                    <p class="mb-2">‚úì Secure processing</p>
                    <p>‚úì Automated receipts</p>
                </div>
                
                <!-- Disabled Payment Button -->
                <div class="relative group">
                    <a href="https://alrahmanmosque.com/index.php/donate-now" 
                       class="flex items-center px-6 py-3 bg-mosque-green hover:bg-mosque-light transition-colors rounded-lg">
                        <img src="https://donorbox.org/images/white_logo.svg" 
                             alt=""
                             class="w-6 h-6"
                             aria-hidden="true">
                        <span class="ml-2 text-white font-medium">Donate</span>
                    </a>
                    
                    <!-- Info Tooltip -->
                    <!-- <div class="absolute left-1/2 -translate-x-1/2 -bottom-12 w-48 bg-gray-800 text-white text-xs rounded py-1 px-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200">
                        Online donations will be available soon.
                        <div class="absolute -top-1 left-1/2 -translate-x-1/2 w-2 h-2 bg-gray-800 rotate-45"></div>
                    </div> -->
                </div>

                <!-- Status Message -->
                <!-- <p class="mt-4 text-sm text-gray-500 text-center max-w-sm">
                    Online donation system not set up yet. Please use E-transfer to support the Masjid.
                </p> -->
            </div>
        </div>
    </div>

    <!-- Section Divider -->
    <div class="relative py-4 mb-12">
        <div class="absolute inset-0 flex items-center">
            <div class="w-full border-t border-gray-300"></div>
        </div>
        <div class="relative flex justify-center">
            <span class="bg-gray-50 px-4 text-sm text-gray-500">Why Your Donation is Needed</span>
        </div>
    </div>

    <!-- Information Cards -->
    <div class="grid md:grid-cols-2 gap-8 mb-12">
        <!-- Student Support Card -->
        <div class="bg-white rounded-lg shadow-lg p-8">
            <div class="flex items-center space-x-4 mb-6">
                <div class="flex-shrink-0 w-12 h-12 rounded-full bg-mosque-cream flex items-center justify-center">
                    <span class="text-2xl">üè´</span>
                </div>
                <div>
                    <h3 class="text-xl font-semibold text-mosque-green">Protect Students' Religion</h3>
                </div>
            </div>
            <p class="text-gray-600">
                This Masjid provides Toronto Metropolitan University students and the surrounding
                community with a convenient space for prayer. Students can pray even between their classes
                because this Mosque is very close to them compared to other Mosques. 
                Your donation can be the difference between a student commiting to pray in Masjid and not.
            </p>
        </div>

        <!-- Monthly Expenses Card -->
        <div class="bg-white rounded-lg shadow-lg p-8">
            <div class="flex items-center space-x-4 mb-6">
                <div class="flex-shrink-0 w-12 h-12 rounded-full bg-mosque-cream flex items-center justify-center">
                    <span class="text-2xl">üè¢</span>
                </div>
                <div>
                    <h3 class="text-xl font-semibold text-mosque-green">Cover Monthly Rent</h3>
                </div>
            </div>
            <p class="text-gray-600">
                This Masjid currently faces a monthly rent around $6,000 CAD. Your generous 
                donation ensures we can maintain this essential space for our community, while working towards
                our objective: Buying the place and establishing a permanent Masjid for generations to come.
            </p>
        </div>
    </div>
</div>

<!-- Enhanced Email Copy Functionality -->
<script>
function copyEmail() {
    const email = "alrahmanmosque2023@gmail.com";
    navigator.clipboard.writeText(email).then(() => {
        const message = document.getElementById('copyMessage');
        // Show message
        message.style.opacity = '1';
        
        // Hide message after delay
        setTimeout(() => {
            message.style.opacity = '0';
        }, 2000);
    }).catch(err => {
        console.error('Failed to copy email:', err);
        // Fallback for clipboard API failure
        const input = document.createElement('input');
        input.value = email;
        document.body.appendChild(input);
        input.select();
        document.execCommand('copy');
        document.body.removeChild(input);
    });
}
</script>

<!-- Styling Enhancements -->
<style>
/* Smooth transitions */
.transition-opacity {
    transition: opacity 0.2s ease-in-out;
}

/* Tooltip animations */
.group:hover .group-hover\:visible {
    transition-delay: 100ms;
}

/* Prevent text selection on buttons */
.select-none {
    user-select: none;
    -webkit-user-select: none;
}
</style>
{% endblock %}